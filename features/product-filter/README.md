# –õ–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ —Ñ–∏–ª—å—Ç—Ä–∞

–§–∏–ª—å—Ç—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π:

## –£—Å–ª–æ–≤–∏—è –ø–æ–∫–∞–∑–∞ —Ñ–∏–ª—å—Ç—Ä–∞

### 1. –í CatalogClient

```typescript
// –§–∏–ª—å—Ç—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã
{items.length > 0 && (
  <FilterWidget
    sectionId={section.item_id}
    onFilterChange={handleFilterChange}
    currentFilters={filters}
    hasItems={items.length > 0}
  />
)}
```

### 2. –í FilterWidget

```typescript
// –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä, –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤
if (!hasItems) {
  return null;
}
```

### 3. –í ProductFilter

```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
const hasFilterData = filter && filter.props && filter.props.length > 0;

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
const hasFilterProps = allProps.length > 0;

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
const hasRealFilterOptions = hasRealFilterProperties(allProps);

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –≤–æ–æ–±—â–µ
const shouldShowFilter = hasFilterProps && hasFilterData && hasRealFilterOptions;

// –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–æ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∏—á–µ–≥–æ
if (hasCheckedFilter && !shouldShowFilter) {
  return null;
}

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫–µ–ª–µ—Ç–æ–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â–µ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ —Ñ–∏–ª—å—Ç—Ä
if (loading) {
  if (hasCheckedFilter && !shouldShowFilter) {
    return null;
  }
  return <FilterListSkeleton count={8} />;
}
```

## –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞ —Å–∫–µ–ª–µ—Ç–æ–Ω–∞

–î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `hasCheckedFilter` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞ —Å–∫–µ–ª–µ—Ç–æ–Ω–∞ –¥–ª—è —Ä–∞–∑–¥–µ–ª–æ–≤ –±–µ–∑ —Å–≤–æ–π—Å—Ç–≤:

```typescript
const [hasCheckedFilter, setHasCheckedFilter] = useState(false);

// –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞
setHasCheckedFilter(true);

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —Å–∫–µ–ª–µ—Ç–æ–Ω–∞
if (hasCheckedFilter && !shouldShowFilter) {
  return null;
}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

–§—É–Ω–∫—Ü–∏—è `hasRealFilterProperties()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

### –î–ª—è —Ü–µ–Ω–æ–≤–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ (PRICE):

```typescript
const minPrice = parseFloat(priceFilter.min) || 0;
const maxPrice = parseFloat(priceFilter.max) || 0;
return maxPrice > minPrice; // –ï—Å—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
```

### –î–ª—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π (ENUM/STRING):

```typescript
return Object.values(enumFilter).some(value =>
  parseInt(value.total_count) > 0
);
```

## –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞

1. **–£–±–∏—Ä–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π —Ç–∏–ø** - `type_name !== '–ö–æ—Ä–Ω–µ–≤–æ–π —Ç–∏–ø'`
2. **–£–±–∏—Ä–∞–µ–º sections_objects** - `tpl_key !== 'sections_objects'`
3. **–û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞** –∏–∑ –≥—Ä—É–ø–ø `__nogroup` –∏ `chars`
4. **–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ** - `allProps.length > 0`
5. **–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã** - `hasRealFilterProperties()`
6. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–æ–∫–∞–∑ —Å–∫–µ–ª–µ—Ç–æ–Ω–∞** - `hasCheckedFilter`

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–§–∏–ª—å—Ç—Ä –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏:

- ‚ùå –ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª–µ
- ‚ùå API –≤–µ—Ä–Ω—É–ª –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç
- ‚ùå –ù–µ—Ç —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚ùå –í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏—Å–∫–ª—é—á–µ–Ω—ã –ª–æ–≥–∏–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚ùå –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚ùå **–£–∂–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ —Ñ–∏–ª—å—Ç—Ä –∏ –∑–Ω–∞–µ–º, —á—Ç–æ —Å–≤–æ–π—Å—Ç–≤ –Ω–µ—Ç** ‚Üê **–ù–û–í–û–ï**

–§–∏–ª—å—Ç—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏:

- ‚úÖ –ï—Å—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ —Ä–∞–∑–¥–µ–ª–µ
- ‚úÖ API –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ï—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ï—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ **–ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ —Ñ–∏–ª—å—Ç—Ä —Ä–∞–Ω–µ–µ –∏–ª–∏ –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞** ‚Üê **–ù–û–í–û–ï**

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- üö´ **–ù–µ—Ç –º–∏–≥–∞–Ω–∏—è —Å–∫–µ–ª–µ—Ç–æ–Ω–∞** –¥–ª—è —Ä–∞–∑–¥–µ–ª–æ–≤ –±–µ–∑ —Å–≤–æ–π—Å—Ç–≤
- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Ñ–∏–ª—å—Ç—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
- üéØ **–¢–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
- üîÑ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
